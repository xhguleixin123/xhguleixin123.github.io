# 设计模式入门

## 分开变化和不变化的部分

### 不变部分

>  不变部分在父类中实现。

### 变化的部分

> 单独拿出来作为一个接口（超类），具体实现交给实现类，再将实子类继承于实现类。

实例中，利用接口来分离出需要变化的方法，在通过具体的类来实现分离出来的接口（多态，实现交给具体子类）。

![实现鸭子的行为的超类（接口）](images/实现鸭子的行为.png)

### 代码实现

* Duck类

```csharp
public class Duck{
    FlyBehavior flyBehavior;
    QuackBehavior quackBehavior;
    
    public void Display(){
        Console.WriteLine("I'm a real dcuk.")
    }
    //委托给方法而不是属性表现行为
    public void performFly(){
        flyBehavior.fly();
    }
    public void performQuack(){
        quackBehavior.quack();
    }
}
//将未来需要改变的实例变量拿出来封装成接口，待后续具体的子类进行实现。
public interface FlyBehavior{
    public void fly();
}
public interface QuackBehavior{
    public void quack();
}
```

* 分离出来的接口的实现类

```csharp
//利用子类实现接口
public Quack : QuackBehavior{
    public void quack(){
        print("呱呱呱")
    }
}

public FlyWithWings : FlyBehavior {
    public void fly(){
        Console.WriteLine("I'm flying.")
    }
}
```

* 接口实例变量的实现

```csharp
public class MallarDuck : Duck {
    //实例化接口类
    public MallardDuck(){
        flyBehavior = new FlyWithWings();
        quackBehavior = new Quack();
    }
    public void display(){
        Console.WriteLine("I'm a real Malladr duck.")
    }
}
```

